<div class="reports">
    <div class="row buttons-wrapper pl-4 pr-4 pt-4">
        <div class="col-md-12 d-flex">
          <button class="btn btn-secondary mr-2" (click)="showTable('kandidati')">Kandidati</button>
          <button class="btn btn-secondary mr-2" (click)="showTable('instruktori')">Instruktori</button>
          <button class="btn btn-secondary mr-auto" (click)="showTable('vozila')">Vozila</button>
          <button class="btn btn-secondary" [routerLink]="['/main']" routerLinkActive="router-link-active" >Nazad</button>
        </div>
    </div>
    <h3 class="candidates-header" *ngIf="showKandidati">Kandidati</h3>
    <h3 class="instructors-header" *ngIf="showInstruktori">Instruktori</h3>
    <h3 class="vehicles-header" *ngIf="showVozila">Vozila</h3>
    <div class="table-wrapper candidates" *ngIf="showKandidati">
        <table>
            <thead class="fixedHeader">
                <tr>
                    <th>Ime</th>
                    <th>Prezime</th>
                    <th>Ime oca</th>
                    <th>JMBG</th>
                    <th>Mjesto rođenja</th>
                    <th>Državljanstvo</th>
                    <th>Broj lk</th>
                    <th>Broj telefona</th>
                    <th>Email adresa</th>
                    <th>Posljednja uplata</th>
                    <th>Preostali dug</th>
                    <th>Položio</th>
                  </tr>
            </thead>
            <tbody class="scrollContent">
                <tr *ngFor="let candidate of candidates">
                    <td>{{candidate.ime}}</td>
                    <td>{{candidate.prezime}}</td>
                    <td>{{candidate.imeOca}}</td>
                    <td>{{candidate.jmbg}}</td>
                    <td>{{candidate.mjestoRodjenja}}</td>
                    <td>{{candidate.drzavljanstvo}}</td>
                    <td>{{candidate.brojLk}}</td>
                    <td>{{candidate.telefon}}</td>
                    <td>{{candidate.emailAdresa}}</td>
                    <td>{{candidate.uplate.length > 0 ? (candidate.uplate[candidate.uplate.length - 1].datum | date: 'd/M/yyyy') : ' - '}}</td>
                    <td>{{candidate.preostaliDug | number:'1.2-2'}}KM</td>
                    <td>{{candidate.ispiti.length > 0 && candidate.ispiti[candidate.ispiti.length - 1].uspjeh === true ? 'Da' : 'Ne'}}</td>
                  </tr>
            </tbody>
        </table>
    </div>
    <div class="table-wrapper instructors" *ngIf="showInstruktori">
          <table>
            <thead class="fixedHeader">
                <tr>
                    <th>Ime</th>
                    <th>Prezime</th>
                    <th>Ime oca</th>
                    <th>JMBG</th>
                    <th>Mjesto rođenja</th>
                    <th>Državljanstvo</th>
                    <th>Broj lk</th>
                    <th>Broj dozvole</th>
                    <th>Zaduženo vozilo</th>
                    <th>Broj telefona</th>
                    <th>Email adresa</th>
                    <th>Kandidati</th>
                  </tr>
            </thead>
            <tbody class="scrollContent">
                <tr *ngFor="let instructor of instructors">
                    <td>{{instructor.ime}}</td>
                    <td>{{instructor.prezime}}</td>
                    <td>{{instructor.imeOca}}</td>
                    <td>{{instructor.jmbg}}</td>
                    <td>{{instructor.mjestoRodjenja}}</td>
                    <td>{{instructor.drzavljanstvo}}</td>
                    <td>{{instructor.brojLk}}</td>
                    <td>{{instructor.brojDozvole}}</td>
                    <td>{{instructor.zaduzenoVozilo}}</td>
                    <td>{{instructor.telefon}}</td>
                    <td>{{instructor.emailAdresa}}</td>
                    <td>
                      <span *ngFor="let candidate of instructor.kandidati; let i='index'">
                        {{i + 1}}. {{candidate.imePrezime}} 
                        <br>
                      </span>
                    </td>
                  </tr>
            </tbody>
        </table>
    </div>
    <div class="table-wrapper vehicles" *ngIf="showVozila">
        <table>
            <thead class="fixedHeader">
                <tr>
                    <th>Vrsta vozila</th>
                    <th>Marka</th>
                    <th>Tip</th>
                    <th>Broj šasije</th>
                    <th>Broj motora</th>
                    <th>Gorivo</th>
                    <th>Reg. oznaka</th>
                    <th>God. proizvodnje</th>
                    <th>Datum registr.</th>
                    <th>Br. saobraćajne</th>
                    <th>Br. vlasničke</th>
                    <th>Zadužio/la</th>
                </tr>
            </thead>
            <tbody class="scrollContent">
                <tr *ngFor="let vehicle of vehicles">
                    <td>{{vehicle.vrstaVozila}}</td>
                    <td>{{vehicle.marka}}</td>
                    <td>{{vehicle.tip}}</td>
                    <td>{{vehicle.brojSasije}}</td>
                    <td>{{vehicle.brojMotora}}</td>
                    <td>{{vehicle.gorivo}}</td>
                    <td>{{vehicle.registarskaOznaka}}</td>
                    <td>{{vehicle.godinaProizvodnje}}</td>
                    <td>{{vehicle.datumRegistracije.day}}/{{vehicle.datumRegistracije.month}}/{{vehicle.datumRegistracije.year}}</td>
                    <td>{{vehicle.saobracajnaDozvola}}</td>
                    <td>{{vehicle.vlasnicka}}</td>
                    <td>
                      <span *ngFor="let instructor of vehicle.instruktori; let i='index'">
                        {{i + 1}}. {{instructor.imePrezime}} 
                        <br>
                      </span>
                    </td>
                  </tr>
            </tbody>
        </table>
    </div>

    <div class="row buttons-wrapper p-4">
        <div class="col-md-12 d-flex justify-content-end">
          <button class="btn btn-secondary" [routerLink]="['/main']" routerLinkActive="router-link-active" >Printaj</button>
        </div>
    </div>
</div>